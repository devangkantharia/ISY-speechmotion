<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Speech + Motion - Projektdokumenation - Interactive Systems</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="css/leapstrap.css" media="screen"/>

    <!-- Custom Fonts -->
    <link href="css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet"
          type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">

    <!-- Theme CSS -->
    <link href="css/grayscale.min.css" rel="stylesheet">
    <script src="js/jquery.min.js"></script>
    <script src="js/leapstrap.js"></script>
    <script src="js/leap.js"></script>
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <script src="js/respond.min.js"></script>

    <![endif]-->

</head>

<body id="page-top" data-spy="scroll" data-target=".navbar-fixed-top">

<!-- Navigation -->
<nav class="navbar navbar-custom navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle leap-interactive" data-toggle="collapse"
                    data-target=".navbar-main-collapse">
                Menu <i class="fa fa-bars"></i>
            </button>
            <a class="navbar-brand page-scroll" href="#page-top">
                <i class="fa fa-play-circle"></i> <span class="light">Start</span>
            </a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse navbar-right navbar-main-collapse">
            <ul class="nav navbar-nav">
                <!-- Hidden li included to remove active class from about link when scrolled up past about section -->
                <li class="hidden">
                    <a href="#page-top"></a>
                </li>
                <li>
                    <a class="page-scroll leap-interactive" href="#about">Konzept</a>
                </li>
                <li>
                    <a class="page-scroll leap-interactive" href="#leap">Leap Motion</a>
                </li>
                <li>
                    <a class="page-scroll leap-interactive" href="#annyang">Annyang</a>
                </li>
                <li>
                    <a class="page-scroll leap-interactive" href="#babylon">BabylonJS</a>
                </li>
                <li>
                    <a class="page-scroll leap-interactive" href="#contact">Demos</a>
                </li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>

<!-- Intro Header -->
<header class="intro">
    <div class="intro-body">
        <div class="container">
            <div class="row">
                <div class="col-md-12 col-md-offset-0">
                    <h1 class="brand-heading">Speech + Motion</h1>
                    <p class="intro-text">
                     Steuerung einer browserbasierten Anwendung oder 3D Szene durch Gesten und Sprache
                        </br></br>


                        Projekt: Markus Küpper und Lisa Bell
                    </p>
                    <a href="#about" class="leap-interactive btn btn-circle page-scroll">
                        <i class="fa fa-angle-double-down animated"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Konzept Section -->
<section id="about" class="container content-section text-justify" style="padding-top: 100px;">
    <div class="row">
        <div class="col-lg-8 col-lg-offset-2">
            <h2>Konzept</h2>
            <p>Die Idee hinter dem Projekt ist die Steuerung einer Anwendung oder Webseite mit Hilfe von Gesten und
                Sprache zu ermöglichen. Hierfür sollten verschiedene Anwendungenszenarien implementiert werden, die sich stark in
                ihrer Interaktion unterscheiden.
                Für die Gestensteuerung wurde ein Leap Motion Sensor gewählt und die Sprachsteuerung erfolgt über die
                Javascript Library Annyang, welche die Google Speech Services nutzt.
                Alle Anwendungen sollen im Browser funktionieren, weshalb das Javascript Framework BabylonJS zum Einsatz
                kommt, welches mittels WebGL das rendern komplexer 3D-Szenen und Anwendungen zulässt.
                Die Verknüpfung von BabylonJS, Annyang und Leap Motion war die Kernarbeit des Projektes, da es hierfür
                eine längere Einarbeitungszeit in die Technologien benötigte.
                Letztendlich sind 3 Anwendungen entwickelt worden, die auf unterschiedliche Weise die Interaktion per
                Sprache und Gesten ermöglichen und testen.
                <br>

            <p>
                <ul>
                    <li>
            <p>Fotobearbeitung (Steuerung einer Software wie z.B. Photoshop)</p></li>
            <li><p>Landschaftsspiel (Interaktion mit 3D Scenen)</p></li>
            <li><p>Geschicklichkeitsspiel (Pixelgenaue Steuerung)</p></li>
            </ul>
            </p>

            <br>
            <p>Für alle Anwendungen wurden verschiedene Interaktionen zeitlich oder nummerisch getrackt und so gemessen
                wie schnell und sicher die Nutzer per Geste und Sprache mit der Anwendung interagieren können.</p>
            </p>
            <br>
            <div>
                <img src="images/konzept-bild.png" class="img-responsive" alt="...">
                Quellen:<a target="_blank" href="https://www.leapmotion.com/" title="Urheber und Quelle">
                Logo Leap Motion</a>;
                <a target="_blank" href="http://www.babylonjs.com/" title="Urheber und Quelle">
                    Logo BabylonJS</a>;
                <a target="_blank" href="https://www.talater.com/annyang/" title="Urheber und Quelle">
                    Logo Annyang</a>


            </div>

        </div>
    </div>
</section>

<!-- Leap JS Section -->
<section id="leap" class="content-section text-justify" style="padding-top: 50px;">
    <div class="download-section">
        <div class="container">
            <div class="col-lg-8 col-lg-offset-2">
                <h2>Leap Motion</h2>
                <div class="row">
                    <p> Leap Motion ist ein Sensor der gleichnamigen amerikanischen Firma und ermöglicht das exakte
                        Tracken der Hände. Der Sensor wird per USB an den Rechner angeschlossen und liefert in der
                        aktuellsten Version laut Hersteller 200 Frames pro Sekunde über seine 2 eingebauten
                        Infrarotkameras. 3 Infrarot LED’s sorgen dafür das die Kameras die Hände in einem Abtastbereich
                        von ca. 1 Meter oberhalb des Sensors in einem 150 Grad Winkel tracken können.
                        Leap Motion liefert nicht nur die Rohdaten der Kameras, sondern bereitet dieses direkt als API
                        auf um den Programmierern die Entwicklung zu erleichtern. Für dieses Projekt wurde die LeapJS
                        Javascript API genutzt um den Sensor zusammen mit BabylonJS und Annyang im Browser zu nutzen.
                    </p>  <br>
                    <p> Um die Daten der Leap Motion zu nutzen müssen sie entsprechend auf die Anwendung skaliert und
                        gemappt werden. Das Leap Motion Koordinatensystem unterscheidet sich zum Koordinatensystem von
                        BabylonJS, da die Z-Achse invertiert ist. Der Wertebereich der Daten wie z.B. die
                        Position einer Hand, muss normalisiert und auf die Größe der Anwendung
                        umgerechnet werden. Um den getrackten Bereich besser zu kontrollieren kann eine Interaktionsbox
                        über dem Sensor festgelegt werden. Die Positionsdaten der Leap könnnen folgendermaßen auf die
                        Koordinaten der Anwendung umgerechnet werden: </p> <br>

                    <div>
                        <img src="images/berechnung.jpg" class="img-responsive" alt="...">
                        <a target="_blank" href="https://developer.leapmotion.com/documentation/csharp/devguide/Leap_Coordinate_Mapping.html"
                           title="Urheber und Quelle">
                            Foto: Leap Motion, Inc.</a>
                    </div>

                    <br>
                    <p> Es gibt unterschiedliche Positionsdaten die verwendet werden können. LeapJS liefert pro Frame
                        Informationen zu den jeweilig getrackten Hand-Objekten, den Fingern und Handgelenken/Armen.
                        Insgesamt stellt sich der Aufbau der API wie folgt dar:</p>

                    <div>
                        <img src="images/model.jpg" class="img-responsive" alt="Leap Motion Gestures">
                        <a target="_blank"
                           href="https://developer.leapmotion.com/documentation/v2/javascript/devguide/Leap_Tracking.html"
                           title="Urheber und Quelle">
                            Foto: Leap Motion, Inc. </a>

                    </div>

                    <br>
                    <p>Neben Positionsdaten liefert LeapJS auch Daten über Bewegung und Ausrichtung der Objekte, sowie
                        der Rotation.
                        Es gibt 4 standardisierte Gesten in Form von Circle-, Screentap-,Keytap- und Swipe-Geste, welche
                        der Sensor direkt erkennen kann. Einige dieser Gesten werden in diesem Projekt verwendet und
                        getestet.
                    </p>
                    <div>
                        <img src="images/gesten.jpg" class="img-responsive" alt="...">

                        Fotos: Leap Motion, Inc.
                        <a target="_blank"
                           href="https://developer.leapmotion.com/documentation/v2/cpp/api/Leap.CircleGesture.html"
                           title="Urheber und Quelle">Quelle: Circle Gesture.</a>
                        <a target="_blank"
                           href="https://developer.leapmotion.com/documentation/v2/cpp/api/Leap.KeyTapGesture.html"
                           title="Urheber und Quelle">Quelle: Keytab Gesture.</a>
                        <a target="_blank"
                           href="https://developer.leapmotion.com/documentation/v2/cpp/api/Leap.ScreenTapGesture.html"
                           title="Urheber und Quelle">Quelle: Screentab Gesture.</a>
                        <a target="_blank"
                           href="https://developer.leapmotion.com/documentation/v2/cpp/api/Leap.SwipeGesture.html"
                           title="Urheber und Quelle">Quelle: Swipe Gesture.</a>

                    </div>


                    <br>
                    <p>Die Verarbeitung der Daten und wie diese für die Anwendung verwendet werden erfolgt innerhalb
                        eines Controller Objekts, welches einen Leap Loop startet. Innerhalb des Loops haben wir Zugriff
                        auf die einzelnen Frames. Es ist auch möglich auf bestimmte vorangehende Frames zuzugreifen und
                        somit Veränderung zwischen Frames zu berechnen. Weitere Informationen gibt es in der
                        Dokumentation der LeapJS API.</p>
                    <a target="_blank" href="https://developer.leapmotion.com/documentation/v2/javascript/index.html"
                       class="btn btn-default btn-lg">LeapJS Dokumentation</a>

                </div>
            </div>
        </div>
    </div>
</section>

<!-- Annyang Section -->
<section id="annyang" class="container content-section text-justify" style="padding-top: 90px;">
    <div class="row">
        <div class="col-lg-8 col-lg-offset-2" >
            <h1>Annyang</h1>
            <p>
                Annyang ist eine 2 kb große Javascript Library mit der eine Webseite um einige Spracherkennungsfeatures erweitert werden kann.
                Annyang nutzt hierfür die eingebauten Spracherkennungsfunktionen des Browsers soweit diese vorhanden sind.
                Für den Chrome-Browser (genutzer Browser für dieses Projekt) nutzt Annyang beispielsweise die Services der Google Speech API.
                Neben einer breiten Sprachenunterstützung ermöglicht Annyang es unterschiedlich strukturierte Sprachkommandos zu definieren.
                Per Default nutzt Annyang das Mikrophone des Laptops/PC, was bei ruhiger Umgebungslautstärke gut funktioniert.
                Mittels eines einfachen Headsets konnte die Spracherkennung jedoch zuverlässiger und stabiler gegenüber Umgebungsgeräuschen gemacht werden.
                Beim ersten Aufruf der Webseite muss Annyang die Nutzung des Mikrophones erlaubt werden. Daraufhin zeichnet die Webseite Sprache auf und vergleich diese mit bekannten definierten Sprachkommandos.
                Hier kann es zu Problemen kommen da Annyang die aufgenommene Sprache in Blöcke einteilt und nicht jedes gesprochene Wort direkt mit den Kommandos abgleicht.
                Dies kann dazu führen das ein gesprochener Satz einzelne Kommandos enthält, diese aber nicht als solche erkannt werden, da der gesamte Satz als Wörterblock mit den Kommmandos verglichen wird.
                Sprackkommandos müssen also einzeln und getrennt von anderen Wörtern gesprochen werden damit diese erkannt werden können.
                Auch direkt hintereinander gesprochene Sprachkommandos können als Block erfasst werden und somit zu Fehlern führen.
                Insgesamt sollten Sprachkommandos nur mit einer zeitlichen Distanz von 2-3 Sekunden gesprochen werden.
                Die Erkennungsrate von Annyang in Chrome ist sehr überzeugend und fast fehlerfrei sofern die Kommandos klar und einzeln geäußert werden.
                Die Erkennung benötigt durch die Server-Abfrage mit Google ca. 2-3 Sekunden. Je nachdem welches Kommando erkannt wurde, wird eine entsprechend verknüpfte Javascript Funktion aufgerufen.
                Da Annyang auf das Mikrophone zugreift ist es nur möglich eine Instanz innerhalb der Browser-Tabs zu nutzen. Ist eine Webseite mit Annyang mehrfach geöffnet kommt es zu Fehlern.
                Desweiteren gab es hin und wieder Abstürze, bei der Annyang ohne Fehlermeldung die Spracherkennung einstellte. Hier half nur ein Neustart der Webseite.
                <br> <br>
                Folgender Code zeigt die einfache Definition einzelner Sprachkommandos, Spracheinstellung und Starten der Annyang Spracherkennung.
            </p>


<pre><code>//Wenn der Browser Annyang unterstützt
if (annyang) {
// Sprachbefehle und die damit aufzurufenden Funktionen
var commands = {
'Boden': addGround,
'verschieben': move,
'Graustufen': grayscale,
'Invertieren': invert,
[...]
annyang.addCommands(commands);
//language = german
annyang.setLanguage("de-DE");
annyang.start(true, true);}
else{console.log("Annyang ist mit diesem Browser nicht kompatibel.")}</code></pre>
            </p>
            </br>


            <a target="_blank" href="https://www.talater.com/annyang/" class="btn btn-default btn-lg">Zur offiziellen
                Annyang-Seite</a>
        </div>
    </div>
</section>

<!-- Babylon JS Section -->
<section id="babylon" class="content-section text-justify" style="padding-top: 50px;">
    <div class="download-section">
        <div class="container">
            <div class="col-lg-8 col-lg-offset-2">
                <h2>BabylonJS</h2>
                <div class="row">
                    <p> BabylonJS ist ein Javascript WebGL Framework und ermöglicht das Rendern komplexer 3D Szenen im
                        Browser. Laut Hersteller funktioniert Babylon auf allen WebGL Plattformen aufgrund von moderner
                        Shader Architektur.
                        BabylonJS bietet gängige Features wie sie von Game Engines bekannt sind und zeichnet sich laut
                        Entwickler durch eine besonders gute Performance aus. Es gibt Anbindungen an Unity, Blender und
                        3DS Max und unterstützt verschiedenste Formate für den Import von 3D Modellen.
                        Ein Szenen-Graph in Babylon kann unteranderem Lichter, Kameras, Materialen, Meshes, Animationen
                        und Audio
                        enthalten.
                        Es gibt zahlreiche Funktionen für Kollisionstests, Schattenwurf, Partikel und verschiedenste
                        Shader-Effekte.
                        Die Dokumentation von BabylonJS ist umfangreich, aber in den Beschreibungen von Klassen und
                        Funktionen sehr knapp. Die Einarbeitung war relativ schwierig, da viele Konzepte wie z.B.
                        Dynamic Textures nur mangelhaft dokumentiert waren. Das E-Book LEARNING BABYLON.JS von Julian
                        Chenard gab einen guten Einstieg in die vielseitigen Möglichkeiten von Babylon.<br>
                        Allgemein läuft der Aufbau einer Babylon Anwendung folgendermaßen ab:
                        <br><br>
                        HTML(Canvas)
                        <br><br>
                        Babylon.Engine
                        <br><br>
                           > Babylon.Scene
                        <br><br>
                                 > Camera
                        <br><br>
                                 > Meshes, Materials, Textures, Shaders
                        <br><br>
                                >   Babylone.Scene < Render Loop >
                        <br><br>
                        <img src="images/babylonjs.jpg" class="img-responsive" >

                        <br><br>

                        Die meisten Aktionen und Berechnungen unserer Anwendungen erfolgen im Frame-Loop des Leap Motion Controllers.
                        Möchte man in Babylon Aktionen vor jedem Render Durchlauf ausführen wird die Funktion <i>  scene.registerBeforeRender()</i> genutzt.
                        <br>
                        Nützlich bei der Entwicklung ist der BabylonJS Playground, welcher einfache Beispiele für verschiedene Funktionen liefert und es ermöglicht im Browser Babylon Szenen zu programmieren und zu testen.
                        <br>
                       <br> <a target="_blank" href="http://www.babylonjs-playground.com/" class="btn btn-default btn-lg">Playground</a>
                        <br>
                    </p>
                </div>

                <a target="_blank" href="http://www.babylonjs.com/" class="btn btn-default btn-lg">Zur offiziellen
                    BabylonJS-Seite</a>
            </div>
        </div>
    </div>
</section>

<!-- Demos Section -->
    <section id="contact" class="container content-section text-center" style="padding-top: 50px;">
    <div class="row">
        <div class="col-lg-26 col-lg-offset-0">


            <h1>&nbsp Demos</h1>
            </br>
            <div class="row">
                <div class="col-sm-6 col-md-4">
                    <div class="thumbnail leap-interactive " style="min-height: 600px" ;>
                        <img src="images/speech.PNG" alt="Bildbearbeitung Speechmotion 3D">
                        <div class="caption">
                            <h3>Bildbearbeitung</h3>
                            <p>Bildbearbeitung mit Leap Motion und Annyang in einer Babylon 3D Szene.</p>
                            </br>
                            <p><a target="_blank" href="./speechmotion.html"
                                  class="btn btn-primary btn-sm leap-interactive" role="button">Anwendung</a>
                                <a href="./docuPictureEditingSpeechmotion.html"
                                   class="btn btn-default btn-sm leap-interactive" role="button">Dokumentation </a></p>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6 col-md-4">
                    <div class="thumbnail leap-interactive" style="min-height: 600px;">
                        <img src="images/watersp.PNG" alt="...">
                        <div class="caption">
                            <h3>Landschaftsspiel</h3>
                            <p>Spielerische Interaktion mit Leap Motion, Annyang und 3D. Interaktive 3D Szene</p>
                            </br>
                            <p><a target="_blank" href="./LandscapeChallenge.html"
                                  class="btn btn-primary btn-sm leap-interactive" role="button">Anwendung</a>
                                <a href="./doc_LandscapeChallenge.html" class="btn btn-default btn-sm leap-interactive"
                                   role="button">Dokumentation</a></p>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6 col-md-4">
                    <div class="thumbnail leap-interactive" style="min-height: 600px;">
                        <img src="images/dontouch.PNG" alt="...">
                        <div class="caption">
                            <h3>Geschicklichkeits-Spiel</h3>
                            <p>Teste deine Leap-Motion-Fähigkeiten. Berühre nicht den Draht. </p>

                            <p><a target="_blank" href="./DontTouchChallenge.html"
                                  class="btn btn-primary btn-sm leap-interactive" role="button">Anwendung</a>
                                <a href="./doc_Geschicklichkeit.html" class="btn btn-default btn-sm leap-interactive"
                                   role="button">Dokumentation</a></p>
                        </div>
                    </div>
                </div>
            </div>


        </div>
    </div>
</section>


<!-- Footer -->
<footer>
    <div class="container text-center">
        <p>Autoren: Lisa Bell & Markus Küpper</p>
        <a href="./impressum.html">Impressum</a>
    </div>
</footer>


<!-- jQuery -->
<script src="js/jquery.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="js/bootstrap.min.js"></script>

<!-- Plugin JavaScript -->
<script src="js/jquery.easing.min.js"></script>

<!-- Google Maps API Key - Use your own API key to enable the map feature. More information on the Google Maps API can be found at https://developers.google.com/maps/ -->
<script type="text/javascript"
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCRngKslUGJTlibkQ3FkfTxj3Xss1UlZDA&sensor=false"></script>

<!-- Theme JavaScript -->
<script src="js/grayscale.min.js"></script>

<!-- Init Leap, Set all "a" interactive, use 1 Leap cursor/finger -->
<script>LeapManager.init({interactiveSelector: "a", maxCursors: 1});</script>

</body>

</html>
