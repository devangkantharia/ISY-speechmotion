<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <!--Favicon-->
    <link rel="shortcut icon" href="images/favicon.ico" />

    <title>Speechmotion 3D|Bildbearbeitung Projektdokumenation</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">

    <!-- Theme CSS -->
    <link href="css/grayscale.min.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
<style>.jumbotron p, .jumbotron ul, .jumbotron li{
    font-size: 20px ;
    color: white;
}

.jumbotron h1{
    font-family: "Agency FB";
}

.dimgray{
    color: dimgray;
}

.media-object {

    width: 100px;
}

</style>
</head>

<body id="page-top" data-spy="scroll" data-target=".navbar-fixed-top">

    <!-- Navigation -->
    <nav class="navbar navbar-custom navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-main-collapse">
                    Menu <i class="fa fa-bars"></i>
                </button>
                <a class="navbar-brand page-scroll" href="./index.html">
                    <i class="fa fa-play-circle"></i> <span class="light">Start</span>
                </a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse navbar-right navbar-main-collapse">
                <ul class="nav navbar-nav">
                    <!-- Hidden li included to remove active class from about link when scrolled up past about section -->
                    <li class="hidden">
                        <a href="#page-top"></a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#anleitung">Anleitung</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#code">Dokumentation</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#analyse">Analyse</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#fazit">Fazit</a>
                    </li>
                    <li>
                        <a target="_blank" class="page-scroll" href="./speechmotion.html">Anwendung</a>
                    </li>

                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Intro Header -->
    <header class="intro" style=" background: url(./images/backGroundDokuBild.png) no-repeat bottom center scroll;">
        <div class="intro-body">
            <div class="container">
                <div class="row">
                    <div class="col-md-12 col-md-offset-0">
                        <h1 class="brand-heading">Bildbearbeitung </h1>
                        <small class="dimgray">mit Leap Motion, BabylonJS und Annyang</small>
                        <p class="intro-text">
                            Bildbearbeitung mit Sprachbefehlen und Gestenerkennung
                         </p>
                        <a href="#anleitung" class="btn btn-circle page-scroll">
                            <i class="fa fa-angle-double-down animated"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Anleitung Section -->
    <section id="anleitung" class="container content-section text-justify" style="padding-top: 50px;">
        <div class="row">
            <div class="col-lg-10 col-lg-offset-1">
                <div class="jumbotron" style="background-color: black; color: white;">
                    <h1 style="font-size: 46px;">Anleitung</h1>

                    <p>
                        Folgende Befehle können ausgeführt werden:
                        </br>
                        <small><i class="fa fa-sign-language" aria-hidden="true"></i> = Leap Motion</small>
                        </br>
                        <small><i class="fa fa-comment" aria-hidden="true"></i> = Sprachbefehle</small>
                    </p>
                    <p><strong>Interaktion</strong></p>
                    <ul class="media-list">
                        <li class="media">
                        <div class="media-left">
                                <img class="media-object" src="images/select.png" alt="Select Image with leap">

                        </div>
                        <div class="media-body">
                            Auswahl eines Bildes:<ul><li><i class="fa fa-sign-language" aria-hidden="true"></i> Mit dem rechten Zeigefiner ca. 1 Sekunde auf das Bild zeigen. </li></ul>

                        </div>
                        </li>
                        <li class="media">
                            <div class="media-left">
                                    <img class="media-object" src="images/drehen.png" alt="Rotate and Scale Image">

                            </div>
                            <div class="media-body">
                        Bild drehen und skalieren: <ol><li><i class="fa fa-comment" aria-hidden="true"></i> Sag "drehen und skalieren", nachdem ein Bild ausgewählt wurde.</li><li><i class="fa fa-sign-language" aria-hidden="true"></i> Rotiere die rechte Hand um das Bild zu rotieren </li></ol>

                            </div>
                        </li>
                        <li class="media">
                            <div class="media-left">
                                    <img class="media-object" src="images/move.png" alt="Move Image">

                            </div>
                            <div class="media-body">
                        Bild  im 3D Raum verschieben: <ol><li><i class="fa fa-comment" aria-hidden="true"></i> Sag "verschieben", nachdem ein Bild ausgewählt wurde</li><li><i class="fa fa-sign-language" aria-hidden="true"></i> Verschiebe das Bild mit Hilfe des rechten Zeigefingers</li></ol>

                            </div>
                        </li>
                        <li class="media">
                            <div class="media-left">

                                    <img class="media-object" src="images/newSelect.png" alt="Select New Image">

                            </div>
                            <div class="media-body">
                        Bild abwählen: <ul><li><i class="fa fa-comment" aria-hidden="true"></i> Sag "okay", um das aktuelle Bild abzuwählen und ein neues auszuwählen zu können</li></ul>

                            </div>
                        </li>
                        <li class="media">
                            <div class="media-left">

                                    <img class="media-object" src="images/boden.png" alt="Show Ground and analysis window">

                            </div>
                            <div class="media-body">
                                Untergrund und Bildersockel <ul><li><i class="fa fa-comment" aria-hidden="true"></i> Sag "Boden", nachdem ein Bild ausgewählt wurde um einen Boden und 4 Sockel anzuzeigen sowie eine Information zur Kollision-Erkennung</li></ul>

                            </div>
                        </li>
                        <li class="media">
                            <div class="media-left">
                                <img class="media-object" src="images/removeboden.png" alt="Remove Ground and analysis window">
                            </div>
                            <div class="media-body">
                                Untergrund und Bildersockel entfernen<ul><li><i class="fa fa-comment" aria-hidden="true"></i> Sag "entfernen" um den Boden und die Bildersockel zu entfernen</li></ul>

                            </div>
                        </li>


                    </ul>
                    </br>
                    <p><strong>Bildbearbeitung</strong></p>
                    <p><small>Zur Bildbearbeitung muss ein Bild ausgewählt sein und je nach vorheriger Interaktion: <i class="fa fa-comment" aria-hidden="true"></i> sage "editieren"</small></p>
                    <ul class="media-list">
                        <li class="media">
                            <div class="media-left">
                                <img class="media-object" src="images/grey.png" alt="Greyscale">
                            </div>
                            <div class="media-body">
                                Graustufen<ul><li><i class="fa fa-sign-language" aria-hidden="true"></i> Zeige mit dem rechten Zeigefinger ca. 1 Sek auf den Button "Graustufen" </li><li><i class="fa fa-comment" aria-hidden="true"></i> Sag "Graustufen" </li></ul>

                            </div>
                        </li>
                        <li class="media">
                            <div class="media-left">
                                <img class="media-object" src="images/invers.png" alt="invers">
                            </div>
                            <div class="media-body">
                                Invertieren<ul><li><i class="fa fa-sign-language" aria-hidden="true"></i> Zeige mit dem rechten Zeigefinger ca. 1 Sek auf den Button "Invertieren" </li><li><i class="fa fa-comment" aria-hidden="true"></i> Sag "Invertieren" </li></ul>

                            </div>
                        </li>
                        <li class="media">
                            <div class="media-left">
                                <img class="media-object" src="images/blue.png" alt="Blue filter">
                            </div>
                            <div class="media-body">
                                Blaufilter<ul><li><i class="fa fa-sign-language" aria-hidden="true"></i> Zeige mit dem rechten Zeigefinger ca. 1 Sek auf den Button "Blaufilter" </li><li><i class="fa fa-comment" aria-hidden="true"></i> Sag "Blaufilter" </li></ul>

                            </div>
                        </li>
                        <li class="media">
                            <div class="media-left">
                                <img class="media-object" src="images/heller.png" alt="Brighter">
                            </div>
                            <div class="media-body">
                                Helligkeit erhöhen<ul><li><i class="fa fa-sign-language" aria-hidden="true"></i> Zeige mit dem rechten Zeigefinger ca. 1 Sek auf den Button "+" rechts neben dem Slider für Helligkeit </li><li><i class="fa fa-comment" aria-hidden="true"></i> Sage "heller" </li></ul>

                            </div>
                        </li>
                        <li class="media">
                            <div class="media-left">
                                <img class="media-object" src="images/dunkler.png" alt="decrease brightness">
                            </div>
                            <div class="media-body">
                                Helligkeit reduzieren<ul><li><i class="fa fa-sign-language" aria-hidden="true"></i> Zeige mit dem rechten Zeigefinger ca. 1 Sek auf den Button "-" links neben dem Slider für Helligkeit </li><li><i class="fa fa-comment" aria-hidden="true"></i> Sage "dunkel" [dunkler wurde nicht gut von Annyang erkannt] </li></ul>

                            </div>
                        </li>
                        <li class="media">
                            <div class="media-left">
                                <img class="media-object" src="images/highcontrast.png" alt="High Contrast">
                            </div>
                            <div class="media-body">
                                Kontrast erhöhen<ul><li><i class="fa fa-sign-language" aria-hidden="true"></i> Zeige mit dem rechten Zeigefinger ca. 1 Sek auf den Button "+" rechts neben dem Slider für Kontrast  </li><li><i class="fa fa-comment" aria-hidden="true"></i> Sage "Kontrast erhöhen" </li></ul>

                            </div>
                        </li>
                        <li class="media">
                            <div class="media-left">
                                <img class="media-object" src="images/lowcontrast.png" alt="Low Contrast">
                            </div>
                            <div class="media-body">
                                Kontrast reduzieren<ul><li><i class="fa fa-sign-language" aria-hidden="true"></i> Zeige mit dem rechten Zeigefinger ca. 1 Sek auf den Button "-" rechts neben dem Slider für Kontrast  </li><li><i class="fa fa-comment" aria-hidden="true"></i> Sage "Kontrast reduzieren" </li></ul>

                            </div>
                        </li>
                        <li class="media">
                            <div class="media-left">
                                <img class="media-object" src="images/changeImages.PNG" alt="Change Images">
                            </div>
                            <div class="media-body">
                                Bilder wechseln<ul><li><i class="fa fa-sign-language" aria-hidden="true"></i> Male mit dem Zeigefinger, an einer Stelle, kleine Kreise in die Luft </li><li><i class="fa fa-comment" aria-hidden="true"></i> Sag "Bild wechseln" </li></ul>

                            </div>
                        </li>
                        <li class="media">
                            <div class="media-left">
                                <img class="media-object" src="images/undo.png" alt="Undo Changes">
                            </div>
                            <div class="media-body">
                                Zurücksetzen<ul><li><i class="fa fa-sign-language" aria-hidden="true"></i> Zeige mit dem rechten Zeigefinger ca. 1 Sek auf den Button "Zurücksetzen"  </li><li><i class="fa fa-comment" aria-hidden="true"></i> Sage "Zurücksetzen" </li></ul>

                            </div>
                        </li>
                        <li class="media">
                            <div class="media-left">
                                <img class="media-object" src="images/saveImage.PNG" alt="Save Image">
                            </div>
                            <div class="media-body">
                                Speichern<ul><li><i class="fa fa-comment" aria-hidden="true"></i> Lade das aktuelle Bild herunter indem du "Speichern" sagst. </li></ul>

                            </div>
                        </li>



                    </ul>


                </div>


            </div>
        </div>
    </section>

    <!-- Dokumentation Section -->
    <section id="code" class="content-section text-justify" style="padding-top: 50px;">
        <div class="download-section">
            <div class="container">
                <div class="col-lg-10 col-lg-offset-1">
                    <div class="jumbotron" style="background-color: black; ">
                        <h1 style="font-size: 46px;">Dokumentation</h1>
                        <p><strong>BabylonJS Canvas Elemente</strong></p>
                        <p><small>Erstellung von Elementen mit BabylonJS im 3D Canvas</small></p>
                        <p>Nachdem die üblichen Babylon-Konfigurationen (Kamera, Licht, etc.) gesetzt wurden, werden die einzelnen Elemente des Canvas aufgebaut. In dieser Szene sind das in erster Linie die Bilder und die Buttons/Slider zur Bildbearbeitung.
                            Die Bilder werden in einer Schleife gesetzt. Zuerst wird eine Textur erzeugt mit einem Bild, diese Textur wird dann einem Mesh (Plane) zugeordnet.
                        </p>
                        <p>

<pre><code>var index = 1;
var gallery = new Array();
for (var x = 500; x <= 850; x += 200) {
for (var y = -400; y <= -100; y += 200) {
//Babylon Material/Textur erstellen und das Bild als Textur setzen
var materialPlane = new BABYLON.StandardMaterial("texturePlane" + index, scene);
materialPlane.diffuseTexture = new BABYLON.Texture("gallery/img" + index + ".jpg", scene);
materialPlane.specularColor = new BABYLON.Color3(0, 0, 0);
//Zeige eine Vorder-und Rückseite
materialPlane.backFaceCulling = false;

//Erstelle für das Bild ein Mesh in Form einer Plane welches das oben angegebene Material, also das Bild als Textur hat und folgende Koordinaten und Größe
var plane = BABYLON.Mesh.CreatePlane("image" + index, 120, scene);
plane.material = materialPlane;
plane.position.y = y;
plane.position.x = -x;
plane.position.z = 0;
plane.isPickable = true;
gallery.push(plane);
index++;

}
}
            </code></pre></p>
                        <p>Ergebnis:   <img class="media-object" src="images/gallery.png" alt="Gallery"></p>
                        <p>Ähnlich werden auch die Buttons und Slider, also die GUI für die Bildbearbeitung erstellt. Ebenfalls mit Babylon-Planes.</p>
                        <p>

<pre><code>//Babylon Material wird erstellt um eine Textur zu erstellen
var sliderMateriaContrast = new BABYLON.StandardMaterial("texturePlane" + index, scene);
sliderMateriaContrast.specularColor = new BABYLON.Color3(0, 0, 0);
//Zeige eine Vorder-und Rückseite
sliderMateriaContrast.backFaceCulling = false;

//Erstelle für den Slider eine Plane welches das oben angegebene Material als Textur hat und folgende Koordinaten und Größe
var sliderContrast = BABYLON.Mesh.CreatePlane("sliderContrast" , 10, scene);
sliderContrast.material = sliderMateriaContrast;
sliderContrast.scaling.x= 30;
sliderContrast.position.y = canvas.height/2.80;
sliderContrast.position.x = -640;
sliderContrast.position.z = 0;
sliderContrast.isPickable = true;
</code></pre>
                        </p>
                        <p>Ergebnis:   <img class="media-object" src="images/slider.png" alt="Slider and Buttons on babylon 3d canvas"></p>

                        </br><p><strong>Leap Motion</strong></p>

                        <p><small>Interaktion durch Gestenerkennung</small></p>
                        <p>Im Leap loop werden mittels Switch-cases die momentan möglichen Interaktionsmöglichkeiten eingegrenzt. Dies ist besonders
                            sinnvoll, da die Leap Motion Sensoren sehr sensibel sind und jede noch so kleine Bewegung wahrnehmen können, sodass Gesten und Bewegungen
                            nicht selten nicht klar voneinander unterschieden werden können.
                            Bei Spielanfang ist der erste Case 1 gesetzt, das bedeutet per Leap kann man nur eine Interaktion machen und diese ist: auswählen. Der Nutzer soll
                            also ein Bild auswählen. Wie geschieht dies?</p>
                        <p>Der rechte Zeigefinger (man kann jeden ausgesterckten Finger der rechten Hand nehmen, aber mit dem Zeigefinger ist es am einfachsten) wird als Cursor mit der Leap Motion getrackt und die aktuelle Position des rechten Zeigefingers in der Leap Motion Interaktionsbox
                            wird einem 2D HTML Element, einem kleinen Kreis, zugeordnet.</p>


<pre><code>//Wenn ein Finger der rechten Hand erkannt wurde
if (frame.pointables.length > 0 && frame.hands[0].type === "right") {
//Die stabiliserte Position des Fingers, d.h. das z.B. das normale unmerkliche Zittern der Hand nicht in die Berechnung einfließt
var positionLeap = frame.pointables[0].stabilizedTipPosition;
//Normalized = normalisierte Koordinaten der Fingerposition innerhalb der Interaktionsbox, welche eine Kastenförmige Region innerhalb des Leap-Motion Sichtfeldes ist
var normalized = frame.interactionBox.normalizePoint(positionLeap);
//complete hand tracking data of current frame
var hand = frame.hands[0];

//Cursor-Position wird aktualisiert mit den x und y Werten der normalisierten Position der Leap
cursor.style.left = (canvas.width * normalized[0]) + 'px';
cursor.style.top = (canvas.height * (1 - normalized[1] )) + 'px';</code></pre>
                        <p>Man kann die Position des Cursor auch anders umrechnen und zwar so wie es beim Laden der Szene mittels der Methode Project gemacht wird: </p>
<pre><code>//Project-Methode wurde im "Learning Babylon.js" Buch von Julian Chenard gefunden
//folgende Funktion erstellt die Transformationsmatrix der Szene. Ohne dieses Kommando läuft der Rest nicht
scene.updateTransformMatrix();
//3D Position
var _3Dposition = new BABYLON.Vector3(1, 1, 1);
//Project Methode um 3D Positionen (3D Vektor) in eine 2D Position umzuwandeln
    var _2Dposition = BABYLON.Vector3.Project(
        _3Dposition,
        BABYLON.Matrix.Identity(),   //world matrix
        scene.getTransformMatrix(), //transformation matrix
        scene.activeCamera.viewport.toGlobal(engine) //viewport
    );
    //Mit der _2Dposition wird nun die Position des Cursors gesetzt
    cursor.style.left = _2Dposition.x + 'px';
    cursor.style.top = _2Dposition.y + 'px';</code></pre>
                        <p>Bei jedem Frame wird der Bewegungsvektor zwischen dem Frame vor 30 Frames und dem jetzigen Frame verglichen.</p>

<pre><code>//der Frame vor 30 Frame (Klick-Event wird ausgelöst, wenn der Finger für 30 Frames ungefähr an der gleichen Stelle ist)
var tenFramesBack = controller.frame(30);
//der Bewegungsvektor zwischen dem Frame vor 30 Frames und dem jetzigen Frame
 var movement = hand.translation(tenFramesBack);</code></pre>
                        <p>Sollte der Finger auf ungefähr der gleichen Stelle geblieben sein (Bewegung unter 1) dann wird ein Klick-Event ausglöst </p>

 <pre><code>//Ein Klick-Event wird simuliert mit scene.pick und den 2D Koordinaten des Cusrsor
var pickResult = scene.pick(rect.left, rect.top);</code></pre>
                        <p>Wenn sich an der Stelle auf die geklickt wird ein Bild befindet wird dieses ausgewählt, dass bedeutet als momentan selektiertes Mesh gesetzt
                            und in vergrößerter Darstellung auf dem Bildschirm angezeigt.</p>
                        <p> Nachdem ein Bild ausgewählt wurde kann man kein weiteres Bild mehr auswählen bis der Nutzer mit dem Sprachbefehl "okay" das Bild wieder abgewählt hat.
                        </p>
                        <p>Nachdem das Bild ausgewählt wurde wird automatisch in den Editiermodus gewechselt, man kann nun also die Sprachbefehle zu Bildbearbeitung geben oder
                            das Bild drehen/bewegen mit den entsprechenden Befehlen. </p>
                        <p>Neben den Sprachbefehlen kann man die Bildbearbeitung auch mit Gesten ausführen.
                            Die Interaktion mit den Button funktioniert nach dem gleichen Muster wie bei der Auswahl des Bildes.</p>
                        <p>Nachdem ein Bild selektiert wurde wird das aktuelle Bild, also die Textur des aktuell ausgwählten Mesh, in einem 2D Canvas auf der Seite geschrieben.
                        </p><p>Bei Befehlen die das Bild verändernden, wie zum Beispiel Graustufen wird dann folgenderweise vorgegangen:</p>
<pre><code>var grayscale = function () {
 //wenn ein Bild ausgewählt ist
 if (currentPickedMesh) {
var canni = document.getElementById('imgcanvas');
var ctx = canni.getContext('2d');
//Die Bildaten des aktuellen Bildes auf dem 2D Canvas
var imageData = ctx.getImageData(0, 0, canni.width, canni.height);
var data = imageData.data;
//Pixel Manipulationen
for (var i = 0; i < data.length; i += 4) {
var avg = (data[i] + data[i + 1] + data[i + 2]) / 3;
data[i] = avg;
data[i + 1] = avg;
data[i + 2] = avg;}
ctx.putImageData(imageData, 0, 0);
var dataURL = canni.toDataURL("image/jpg");
//unbedingt notwendig, sonst akzeptiert CreateFromBase64String die Daten nicht
dataURL.replace(/^data:image\/(png|jpg);base64,/, "");
//Es wird eine neue Textur erstellt welche dann dem momentan ausgewählten Mesh zugewiesen wird.
var materialPlane = new BABYLON.StandardMaterial("texturePlane", scene);
//CreateFromBase64String = Die dort anzugebenen Daten sind schlecht dokumentiert und nur auf die hier angegebene Art und Weise zu erstellem
materialPlane.diffuseTexture = new BABYLON.Texture.CreateFromBase64String(dataURL, "newimageGrayScale", scene);
</code></pre>
                        <p>Man kann das ausgewählte Bild auch bewegen (Sprachbefehl: Verschieben). Dies macht besonders Sinn wenn man vorher "Boden" gesagt hat und dann versucht das Bild auf einem
                            der Sockel zu platzieren. Sobald das Bild den Sockel berührt wird dies über die Analyse-Box auf der linken Seite angezeigt. Sagt man dann "Okay" kann man das nächste Bild auswählen und mit verschieben platzieren.</p>
                        <p>Man kann verschiedene Ansätze nutzen um Bewegungen welche mit der Leap Motion getrackt werden auf die Babylon 3D Szene zu übertragen.
                            In diesem Beispiel haben wir folgende benutzt (in anderen Beispielen aber andere Ansätze).</p>
<pre><code>//über die screenPosition des Hand Objekts eines Frames werden die x, y und z Werte angegeben
leapX = (-1) * hand.screenPosition()[0];
leapY = (-1) * hand.screenPosition()[1];
leapZ = hand.screenPosition()[2];
//x, y und z Werte werden multipliziert für einen an die Szene angepassten Bewegungsrahmen
currentPickedMesh.position.x =leapX*2;
currentPickedMesh.position.y =leapY*2;
currentPickedMesh.position.z =leapZ*3;
</code></pre>
                        <p>Das Bild kann rotiert werden und zwar indem man, nachdem man ein Bild ausgewählt hat, "drehen und skalieren" sagt und dann die rechte Hand dreht.
                            Die Drehung der rechten Hand wird auf die Drehung des Bildes übertragen. Die Drehung der Hand erhält man über die Leap Motion mit den Funktionen
                        <ul>
                            <li>frame.hands[0].roll(); = Rotation um die X-Achse</li>
                            <li>frame.hands[0].pitch(); = Rotation um die Y-Achse</li>
                            <li>frame.hands[0].yaw(); = Rotation um die Z-Achse</li>
                        </ul>
                        <p>Diese Drehungen können dann auf die Rotation des Babylon-Mesh übertragen werden. </p>
                        <p>Das Bild skalieren kann man auch mit dem Befehl "drehen und skalieren" und zwar am besten indem man die linke Hand über dem Leap Motion Gerät hoch und runter bewegt.
                            Es wird für die Skalierung die Veränderung der Handposition genommen, verändert sich die Position schnell nach oben wird das Bild um einen größeren Wert vergrößert,
                            wenn sich die Hand nach unten bewegt, dann wird das Bild verkleinert, im Zusammenhang mit der Geschwindigkeit der Bewegung nach unten.</p>
            <pre><code>var handNormPosition = frame.interactionBox.normalizePoint(frame.hands[1].palmPosition, true);
var velHand = frame.hands[1].palmVelocity;
if (velHand[1] < 0) {
//Übertragung der palmVelocity auf die x und y Größe des ausgewählten Meshs.
currentPickedMesh.scaling.x = handNormPosition[1] * 10;
currentPickedMesh.scaling.y = handNormPosition[1] * 10;
} else {currentPickedMesh.scaling.x = handNormPosition[1] * 10;
currentPickedMesh.scaling.y = handNormPosition[1] * 10;}</code></pre>
                        </br>
                        <p><strong>Annyang</strong></p>
                        <p><small>Sprachsteuerung</small></p>
                        <p>Annyang ist sehr einfach zu nutzen. Wichtig zu wissen bei Annyang ist (was wir nur durch Testen mit einhergehender Verzweiflung herausfanden)
                        </p>
                        <p><strong>Annyang kann nur in einem Tab genutzt werden!</strong> Wird Annyang in mehreren Tabs verwendet funktioniert die Spracherkennung nicht.</p>
                        <p><strong>Annyang kann nicht im aktuellen Firefox oder Edge verwendet werden.</strong> Im aktuellen Chrome hingegen funktioniert Annyang.</p>
                        <p><strong>Annyang stürzt manchmal ab.</strong> Meist ohne ersichtlichen Grund und nur durch Neustart der Seite behebbar.</p>
                        <p>Des weiteren ist darauf zu achten, dass es nicht zuviele Hintergrundgeräusche gibt.</p>
                        <p>Wenn Annyang denn dann funktioniert, dann werden die vorher festgelegten Befehle sehr gut erkannt.</p>
                        <p>


<pre><code>//Wenn der Browser Annyang unterstützt
if (annyang) {
// Sprachbefehle und die damit aufzurufenden Funktionen
var commands = {
'Boden': addGround,
'verschieben': move,
'Graustufen': grayscale,
'Invertieren': invert,
[...]
annyang.addCommands(commands);
//language = german
annyang.setLanguage("de-DE");
annyang.start(true, true);}
else{console.log("Annyang ist mit diesem Browser nicht kompatibel.")}</code></pre></p>
                        </br>

                        <a target="_blank" href="https://github.com/lisabell-li/ISY-speechmotion/" class="btn btn-default btn-lg">Link zum Git-Repository</a>
                    </div>

                </div>
        </div>
    </section>

    <!-- Analyse Section -->
    <section id="analyse" class="container content-section text-center"  style="padding-top: 50px;">
        <div class="row">
            <div class="col-lg-10 col-lg-offset-1" style="text-align: left">
                <h2>Analyse</h2>
<p>Anfangs sollten viel mehr Interaktionen mit Hilfe von Gesten ausgeführt werden, so wie z.B. das auswählen von Bildern mit einem Screentap.</p>
<p>Leider stellte sich heraus, dass die von Leap Motion vorgegebenen 4 Gesten: Circle, Swipe, Screentap und Keytap, sehr schlecht erkannt werden,
bis auf die Circle-Geste</p>
                <p>Die Circle-Geste wird in dieser Anwendung genutzt um in der Gallery neue Bilder anzuzeigen.</p>
                <p>Die Gesten wurden von 10 Probanden, nach ausfürlicher Beschreibung und einem Testdurchlauf, jeweils 10 Mal ausprobiert.</p>
                <img width="100%" src="images/diagrammProband1.PNG" alt="Gestemerkennung je Proband">
                </br></br>
                <img width="100%" src="images/siagramgesten.PNG" alt="Gestenerkennung insgesamt">

            </div>
        </div>
    </section>

    <!-- Fazit Section -->
    <section id="fazit" class="content-section text-center"  style="padding-top: 50px;">
        <div class="download-section">
            <div class="container">
                <div class="col-lg-10 col-lg-offset-1">
                    <div class="jumbotron" style="background-color: black; text-align: left; ">
                        <h1 style="font-size: 46px;">Fazit</h1>
<p><i class="fa fa-thumbs-up" aria-hidden="true"></i><p>
                        <p>
                        <ul>
                        <li>Generell kann man Annyang, Leap Motion und BabylonJS zusammen verwenden.</li>
                        <li>Durch den Einsatz von Sprachbefehlen kann man die Gestenerkennung von Leap Motion besser differenzieren.</li>
                   
                    </ul>
                        </p>
                        <p></p>

   <p> <i class="fa fa-thumbs-down" aria-hidden="true"></i></p>
                        <p>
                        <ul>
                            <li>Annyang nur in wenigen Browsern verwendbar</li>
                            <li>Annyang stürzt manchmal ab</li>
                            <li>Annyang nur ohne Hintergrundgeräusche verwendbar</li>
                            <li>Leap Motion ist teilweise zu genau und da</li>
                            <li>Die Gesternerkennung von Leap Motion bezüglich der von Leap Motion vorgegebenen Gesten ist schlecht, siehe Analyse oben</li>

                        </ul>
                        </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>




    <!-- Footer -->
    <footer>
        <div class="container text-center">
            <p>Autoren: Lisa Bell & Markus Küpper</p>
        </div>
    </footer>

    <!-- jQuery -->
    <script src="js/jquery.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>

    <!-- Google Maps API Key - Use your own API key to enable the map feature. More information on the Google Maps API can be found at https://developers.google.com/maps/ -->
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCRngKslUGJTlibkQ3FkfTxj3Xss1UlZDA&sensor=false"></script>

    <!-- Theme JavaScript -->
    <script src="js/grayscale.min.js"></script>

</body>

</html>
